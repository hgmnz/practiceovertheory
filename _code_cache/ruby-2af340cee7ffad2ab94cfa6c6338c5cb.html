<div class="highlight"><pre><span class="n">options</span> <span class="s1">&#39;*&#39;</span> <span class="k">do</span>
  <span class="n">cors_headers</span>
  <span class="n">headers</span> <span class="s1">&#39;Access-Control-Max-Age&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;2592000&#39;</span>
<span class="k">end</span>

<span class="n">post</span> <span class="s1">&#39;/resources&#39;</span> <span class="k">do</span>
  <span class="n">cors_headers</span>
  <span class="c1"># do_work</span>
<span class="k">end</span>

<span class="kp">private</span>
<span class="k">def</span> <span class="nf">cors_headers</span>
  <span class="n">headers</span> <span class="s1">&#39;Access-Control-Allow-Origin&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;https://your.site.com&#39;</span><span class="p">,</span>
          <span class="s1">&#39;Access-Control-Allow-Headers&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;x-your-header&#39;</span>
<span class="k">end</span>
</pre></div>
